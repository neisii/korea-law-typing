<!DOCTYPE html>
<html lang="ko" class="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ëŒ€í•œë¯¼êµ­í—Œë²• íƒ€ì ì—°ìŠµ</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&family=Gowun+Dodum&family=IBM+Plex+Sans+KR&family=Noto+Sans+KR&family=Noto+Serif+KR&family=Hahmlet&family=Nanum+Gothic&family=Nanum+Myeongjo&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    <style>
        body {
            background: #faf6f0;
            background-image:
                    radial-gradient(circle at 10% 20%, #f0ead8 2px, transparent 3px),
                    radial-gradient(circle at 80% 80%, #e6dfc9 2px, transparent 3px);
            background-repeat: repeat;
            background-size: 150px 150px;
        }
        .dark body {
            background-color: #1e1e1e;
            background-image: none;
            color: #f0f0f0;
        }
        .brush-focus:focus {
            animation: brushstroke 0.4s ease-in-out;
        }
        @keyframes brushstroke {
            0% { box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); }
            40% { box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15); }
            100% { box-shadow: 0 0 0 0 rgba(0, 0, 0, 0); }
        }
        #text-display,
        #typing-input {
            font-family: 'Hahmlet', serif;
        }
        button,
        select,
        #enter-mode-status,
        .stats-area {
            font-family: 'Nanum Gothic', sans-serif !important;
        }
        select.dark-mode {
            background-color: #374151;
            color: #f0f0f0;
            border-color: #4b5563;
        }
        .highlight-bg {
            background-color: #facc15; /* yellow-400 */
            color: #000000;
        }
        .dark .highlight-bg {
            background-color: #fde047; /* yellow-300 */
            color: #000000;
        }
        .highlight-underline {
            text-decoration: underline;
            color: #1f2937; /* gray-800 */
        }
        .dark .highlight-underline {
            text-decoration: underline;
            color: #f9fafb; /* gray-100 */
        }
    </style>
</head>
<body class="p-[50px_20px_60px] transition-colors duration-300">
<div class="max-w-3xl mx-auto text-center">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold">ëŒ€í•œë¯¼êµ­í—Œë²• íƒ€ì ì—°ìŠµ</h1>
        <button id="theme-toggle" class="text-2xl">â˜€ï¸</button>
    </div>
    <div class="flex justify-between items-center mb-4 text-sm">
        <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200 font-semibold">ê¸€ê¼´</span>

            <select id="font-select" class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white text-black dark:bg-gray-700 dark:text-white">
                <option value="Hahmlet" selected>Hahmlet</option>
                <option value="Nanum Gothic">ë‚˜ëˆ”ê³ ë”•</option>
                <option value="Nanum Myeongjo">ë‚˜ëˆ”ëª…ì¡°</option>
                <option value="Noto Sans KR">Noto Sans Korean</option>
                <option value="Noto Serif KR">Noto Serif Korean</option>
                <option value="Gowun Batang">Gowun Batang</option>
                <option value="Gowun Dodum">Gowun Dodum</option>
                <option value="IBM Plex Sans KR">IBM Plex Sans KR</option>
            </select>
        </div>
        <div class="flex items-center gap-2">
            <button id="toggle-lang" class="px-2 py-1 border rounded text-sm bg-gray-300 dark:bg-gray-700">EN</button>
            <button id="enter-mode-btn" class="px-2 py-1 border rounded text-sm bg-gray-300 dark:bg-gray-700">â</button>
            <button id="highlight-toggle-btn" class="px-2 py-1 border rounded text-sm bg-gray-300 dark:bg-gray-700"><u>ê°•ì¡°</u></button>
            <button id="font-size-decrease" class="px-2 py-1 border rounded text-sm bg-gray-300 dark:bg-gray-700">-ê°€</button>
            <button id="font-size-increase" class="px-2 py-1 border rounded text-sm bg-gray-300 dark:bg-gray-700">+ê°€</button>
        </div>
    </div>
    <div id="text-display" class="text-2xl min-h-[80px] mb-4 whitespace-pre-wrap text-gray-800 dark:text-gray-100"></div>
    <div class="relative">
        <input id="typing-input" autocomplete="off" class="w-full border border-gray-400 dark:border-gray-600 px-4 py-3 text-xl rounded focus:outline-none focus:ring brush-focus bg-white dark:bg-gray-800 dark:text-white" type="text" />
        <button id="refresh-btn" title="ë¬¸ì¥ ìƒˆë¡œê³ ì¹¨" class="absolute right-2 top-1/2 -translate-y-1/2 text-xl">ğŸ”„</button>
    </div>
    <div class="stats-area mt-6 text-sm text-gray-700 dark:text-gray-300">
        â± í˜„ì¬ WPM: <span id="wpm">0</span>
        &nbsp; ğŸ“ˆ ìµœê³  WPM: <span id="highest">0</span>
        &nbsp; ğŸ“Š í‰ê·  WPM: <span id="average">0</span>
        <br>
        ğŸ”¢ ì…ë ¥ ìˆ˜: <span id="cnt">0</span>
        &nbsp; ğŸ¯ ì •í™•ë„: <span id="accuracy">100%</span>
    </div>
</div>
<script>
    const themeToggle = document.getElementById("theme-toggle");
    themeToggle.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
        const isDark = document.documentElement.classList.contains("dark");
        themeToggle.textContent = isDark ? "ğŸŒ™" : "â˜€ï¸";
    });

    const textDisplay = document.getElementById("text-display");
    const typingInput = document.getElementById("typing-input");
    const increaseFontBtn = document.getElementById("font-size-increase");
    const decreaseFontBtn = document.getElementById("font-size-decrease");

    let fontSizeStep = 0; // 0: ê¸°ë³¸, -1 ~ +4 ê¹Œì§€ í—ˆìš©
    const baseFontSize = 1.45; // rem

    const applyFontSize = () => {
        const actualSize = baseFontSize + fontSizeStep * 0.125;
        textDisplay.style.fontSize = `${actualSize}rem`;
        typingInput.style.fontSize = `${actualSize}rem`;
    };

    increaseFontBtn.addEventListener("click", () => {
        if (fontSizeStep < 4) {
            fontSizeStep++;
            applyFontSize();
        }
    });

    decreaseFontBtn.addEventListener("click", () => {
        if (fontSizeStep > -3) {
            fontSizeStep--;
            applyFontSize();
        }
    });

    applyFontSize();


    /*ê¸°ëŠ¥*/

    const $ = (id) => document.getElementById(id);
    const korSentences = [
        "ì œ1ì¡° â‘  ëŒ€í•œë¯¼êµ­ì€ ë¯¼ì£¼ê³µí™”êµ­ì´ë‹¤.",
        "ì œ1ì¡° â‘¡ ëŒ€í•œë¯¼êµ­ì˜ ì£¼ê¶Œì€ êµ­ë¯¼ì—ê²Œ ìˆê³ , ëª¨ë“  ê¶Œë ¥ì€ êµ­ë¯¼ìœ¼ë¡œë¶€í„° ë‚˜ì˜¨ë‹¤.",
        "ì œ2ì¡° â‘  ëŒ€í•œë¯¼êµ­ì˜ êµ­ë¯¼ì´ ë˜ëŠ” ìš”ê±´ì€ ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ2ì¡° â‘¡ êµ­ê°€ëŠ” ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ì¬ì™¸êµ­ë¯¼ì„ ë³´í˜¸í•  ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ3ì¡° ëŒ€í•œë¯¼êµ­ì˜ ì˜í† ëŠ” í•œë°˜ë„ì™€ ê·¸ ë¶€ì†ë„ì„œë¡œ í•œë‹¤.",
        "ì œ4ì¡° ëŒ€í•œë¯¼êµ­ì€ í†µì¼ì„ ì§€í–¥í•˜ë©°, ììœ ë¯¼ì£¼ì  ê¸°ë³¸ì§ˆì„œì— ì…ê°í•œ í‰í™”ì  í†µì¼ ì •ì±…ì„ ìˆ˜ë¦½í•˜ê³  ì´ë¥¼ ì¶”ì§„í•œë‹¤.",
        "ì œ5ì¡° â‘  ëŒ€í•œë¯¼êµ­ì€ êµ­ì œí‰í™”ì˜ ìœ ì§€ì— ë…¸ë ¥í•˜ê³  ì¹¨ëµì  ì „ìŸì„ ë¶€ì¸í•œë‹¤.",
        "ì œ5ì¡° â‘¡ êµ­êµ°ì€ êµ­ê°€ì˜ ì•ˆì „ë³´ì¥ê³¼ êµ­í† ë°©ìœ„ì˜ ì‹ ì„±í•œ ì˜ë¬´ë¥¼ ìˆ˜í–‰í•¨ì„ ì‚¬ëª…ìœ¼ë¡œ í•˜ë©°, ê·¸ ì •ì¹˜ì  ì¤‘ë¦½ì„±ì€ ì¤€ìˆ˜ëœë‹¤.",
        "ì œ6ì¡° â‘  í—Œë²•ì— ì˜í•˜ì—¬ ì²´ê²°Â·ê³µí¬ëœ ì¡°ì•½ê³¼ ì¼ë°˜ì ìœ¼ë¡œ ìŠ¹ì¸ëœ êµ­ì œë²•ê·œëŠ” êµ­ë‚´ë²•ê³¼ ê°™ì€ íš¨ë ¥ì„ ê°€ì§„ë‹¤.",
        "ì œ6ì¡° â‘¡ ì™¸êµ­ì¸ì€ êµ­ì œë²•ê³¼ ì¡°ì•½ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ê·¸ ì§€ìœ„ê°€ ë³´ì¥ëœë‹¤.",
        "ì œ7ì¡° â‘  ê³µë¬´ì›ì€ êµ­ë¯¼ì „ì²´ì— ëŒ€í•œ ë´‰ì‚¬ìì´ë©°, êµ­ë¯¼ì— ëŒ€í•˜ì—¬ ì±…ì„ì„ ì§„ë‹¤.",
        "ì œ7ì¡° â‘¡ ê³µë¬´ì›ì˜ ì‹ ë¶„ê³¼ ì •ì¹˜ì  ì¤‘ë¦½ì„±ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ë³´ì¥ëœë‹¤.",
        "ì œ8ì¡° â‘  ì •ë‹¹ì˜ ì„¤ë¦½ì€ ììœ ì´ë©°, ë³µìˆ˜ì •ë‹¹ì œëŠ” ë³´ì¥ëœë‹¤.",
        "ì œ8ì¡° â‘¡ ì •ë‹¹ì€ ê·¸ ëª©ì Â·ì¡°ì§ê³¼ í™œë™ì´ ë¯¼ì£¼ì ì´ì–´ì•¼ í•˜ë©°, êµ­ë¯¼ì˜ ì •ì¹˜ì  ì˜ì‚¬í˜•ì„±ì— ì°¸ì—¬í•˜ëŠ”ë° í•„ìš”í•œ ì¡°ì§ì„ ê°€ì ¸ì•¼ í•œë‹¤.",
        "ì œ8ì¡° â‘¢ ì •ë‹¹ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ê°€ì˜ ë³´í˜¸ë¥¼ ë°›ìœ¼ë©°, êµ­ê°€ëŠ” ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ì •ë‹¹ìš´ì˜ì— í•„ìš”í•œ ìê¸ˆì„ ë³´ì¡°í•  ìˆ˜ ìˆë‹¤.",
        "ì œ8ì¡° â‘£ ì •ë‹¹ì˜ ëª©ì ì´ë‚˜ í™œë™ì´ ë¯¼ì£¼ì  ê¸°ë³¸ì§ˆì„œì— ìœ„ë°°ë  ë•Œì—ëŠ” ì •ë¶€ëŠ” í—Œë²•ì¬íŒì†Œì— ê·¸ í•´ì‚°ì„ ì œì†Œí•  ìˆ˜ ìˆê³ , ì •ë‹¹ì€ í—Œë²•ì¬íŒì†Œì˜ ì‹¬íŒì— ì˜í•˜ì—¬ í•´ì‚°ëœë‹¤.",
        "ì œ9ì¡° êµ­ê°€ëŠ” ì „í†µë¬¸í™”ì˜ ê³„ìŠ¹Â·ë°œì „ê³¼ ë¯¼ì¡±ë¬¸í™”ì˜ ì°½ë‹¬ì— ë…¸ë ¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ10ì¡° ëª¨ë“  êµ­ë¯¼ì€ ì¸ê°„ìœ¼ë¡œì„œì˜ ì¡´ì—„ê³¼ ê°€ì¹˜ë¥¼ ê°€ì§€ë©°, í–‰ë³µì„ ì¶”êµ¬í•  ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤. êµ­ê°€ëŠ” ê°œì¸ì´ ê°€ì§€ëŠ” ë¶ˆê°€ì¹¨ì˜ ê¸°ë³¸ì  ì¸ê¶Œì„ í™•ì¸í•˜ê³  ì´ë¥¼ ë³´ì¥í•  ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ11ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ë²• ì•ì— í‰ë“±í•˜ë‹¤. ëˆ„êµ¬ë“ ì§€ ì„±ë³„Â·ì¢…êµ ë˜ëŠ” ì‚¬íšŒì  ì‹ ë¶„ì— ì˜í•˜ì—¬ ì •ì¹˜ì Â·ê²½ì œì Â·ì‚¬íšŒì Â·ë¬¸í™”ì  ìƒí™œì˜ ëª¨ë“  ì˜ì—­ì— ìˆì–´ì„œ ì°¨ë³„ì„ ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ11ì¡° â‘¡ ì‚¬íšŒì  íŠ¹ìˆ˜ê³„ê¸‰ì˜ ì œë„ëŠ” ì¸ì •ë˜ì§€ ì•„ë‹ˆí•˜ë©°, ì–´ë– í•œ í˜•íƒœë¡œë„ ì´ë¥¼ ì°½ì„¤í•  ìˆ˜ ì—†ë‹¤.",
        "ì œ11ì¡° â‘¢ í›ˆì¥ë“±ì˜ ì˜ì „ì€ ì´ë¥¼ ë°›ì€ ìì—ê²Œë§Œ íš¨ë ¥ì´ ìˆê³ , ì–´ë– í•œ íŠ¹ê¶Œë„ ì´ì— ë”°ë¥´ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ12ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ì‹ ì²´ì˜ ììœ ë¥¼ ê°€ì§„ë‹¤. ëˆ„êµ¬ë“ ì§€ ë²•ë¥ ì— ì˜í•˜ì§€ ì•„ë‹ˆí•˜ê³ ëŠ” ì²´í¬Â·êµ¬ì†Â·ì••ìˆ˜Â·ìˆ˜ìƒ‰ ë˜ëŠ” ì‹¬ë¬¸ì„ ë°›ì§€ ì•„ë‹ˆí•˜ë©°, ë²•ë¥ ê³¼ ì ë²•í•œ ì ˆì°¨ì— ì˜í•˜ì§€ ì•„ë‹ˆí•˜ê³ ëŠ” ì²˜ë²ŒÂ·ë³´ì•ˆì²˜ë¶„ ë˜ëŠ” ê°•ì œë…¸ì—­ì„ ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ12ì¡° â‘¡ ëª¨ë“  êµ­ë¯¼ì€ ê³ ë¬¸ì„ ë°›ì§€ ì•„ë‹ˆí•˜ë©°, í˜•ì‚¬ìƒ ìê¸°ì—ê²Œ ë¶ˆë¦¬í•œ ì§„ìˆ ì„ ê°•ìš”ë‹¹í•˜ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ12ì¡° â‘¢ ì²´í¬Â·êµ¬ì†Â·ì••ìˆ˜ ë˜ëŠ” ìˆ˜ìƒ‰ì„ í•  ë•Œì—ëŠ” ì ë²•í•œ ì ˆì°¨ì— ë”°ë¼ ê²€ì‚¬ì˜ ì‹ ì²­ì— ì˜í•˜ì—¬ ë²•ê´€ì´ ë°œë¶€í•œ ì˜ì¥ì„ ì œì‹œí•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ12ì¡° â‘£ ëˆ„êµ¬ë“ ì§€ ì²´í¬ ë˜ëŠ” êµ¬ì†ì„ ë‹¹í•œ ë•Œì—ëŠ” ì¦‰ì‹œ ë³€í˜¸ì¸ì˜ ì¡°ë ¥ì„ ë°›ì„ ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ12ì¡° â‘¤ ëˆ„êµ¬ë“ ì§€ ì²´í¬ ë˜ëŠ” êµ¬ì†ì˜ ì´ìœ ì™€ ë³€í˜¸ì¸ì˜ ì¡°ë ¥ì„ ë°›ì„ ê¶Œë¦¬ê°€ ìˆìŒì„ ê³ ì§€ë°›ì§€ ì•„ë‹ˆí•˜ê³ ëŠ” ì²´í¬ ë˜ëŠ” êµ¬ì†ì„ ë‹¹í•˜ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ12ì¡° â‘¥ ëˆ„êµ¬ë“ ì§€ ì²´í¬ ë˜ëŠ” êµ¬ì†ì„ ë‹¹í•œ ë•Œì—ëŠ” ì ë¶€ì˜ ì‹¬ì‚¬ë¥¼ ë²•ì›ì— ì²­êµ¬í•  ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ12ì¡° â‘¦ í”¼ê³ ì¸ì˜ ìë°±ì´ ê³ ë¬¸Â·í­í–‰Â·í˜‘ë°•Â·êµ¬ì†ì˜ ë¶€ë‹¹í•œ ì¥ê¸°í™” ë˜ëŠ” ê¸°ë§ ê¸°íƒ€ì˜ ë°©ë²•ì— ì˜í•˜ì—¬ ìì˜ë¡œ ì§„ìˆ ëœ ê²ƒì´ ì•„ë‹ˆë¼ê³  ì¸ì •ë  ë•Œ ë˜ëŠ” ì •ì‹ì¬íŒì— ìˆì–´ì„œ í”¼ê³ ì¸ì˜ ìë°±ì´ ê·¸ì—ê²Œ ë¶ˆë¦¬í•œ ìœ ì¼í•œ ì¦ê±°ì¼ ë•Œì—ëŠ” ì´ë¥¼ ìœ ì£„ì˜ ì¦ê±°ë¡œ ì‚¼ê±°ë‚˜ ì´ë¥¼ ì´ìœ ë¡œ ì²˜ë²Œí•  ìˆ˜ ì—†ë‹¤.",
        "ì œ13ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ í–‰ìœ„ì‹œì˜ ë²•ë¥ ì— ì˜í•˜ì—¬ ë²”ì£„ë¥¼ êµ¬ì„±í•˜ì§€ ì•„ë‹ˆí•˜ëŠ” í–‰ìœ„ë¡œ ì†Œì¶”ë˜ì§€ ì•„ë‹ˆí•˜ë©°, ë™ì¼í•œ ë²”ì£„ì— ëŒ€í•˜ì—¬ ê±°ë“­ ì²˜ë²Œë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ13ì¡° â‘¡ ëª¨ë“  êµ­ë¯¼ì€ ì†Œê¸‰ì…ë²•ì— ì˜í•˜ì—¬ ì°¸ì •ê¶Œì˜ ì œí•œì„ ë°›ê±°ë‚˜ ì¬ì‚°ê¶Œì„ ë°•íƒˆë‹¹í•˜ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ13ì¡° â‘¢ ëª¨ë“  êµ­ë¯¼ì€ ìê¸°ì˜ í–‰ìœ„ê°€ ì•„ë‹Œ ì¹œì¡±ì˜ í–‰ìœ„ë¡œ ì¸í•˜ì—¬ ë¶ˆë¦¬í•œ ì²˜ìš°ë¥¼ ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ14ì¡° ëª¨ë“  êµ­ë¯¼ì€ ê±°ì£¼Â·ì´ì „ì˜ ììœ ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ15ì¡° ëª¨ë“  êµ­ë¯¼ì€ ì§ì—…ì„ íƒì˜ ììœ ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ16ì¡° ëª¨ë“  êµ­ë¯¼ì€ ì£¼ê±°ì˜ ììœ ë¥¼ ì¹¨í•´ë°›ì§€ ì•„ë‹ˆí•œë‹¤. ì£¼ê±°ì— ëŒ€í•œ ì••ìˆ˜ë‚˜ ìˆ˜ìƒ‰ì„ í•  ë•Œì—ëŠ” ê²€ì‚¬ì˜ ì‹ ì²­ì— ì˜í•˜ì—¬ ë²•ê´€ì´ ë°œë¶€í•œ ì˜ì¥ì„ ì œì‹œí•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ17ì¡° ëª¨ë“  êµ­ë¯¼ì€ ì‚¬ìƒí™œì˜ ë¹„ë°€ê³¼ ììœ ë¥¼ ì¹¨í•´ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ18ì¡° ëª¨ë“  êµ­ë¯¼ì€ í†µì‹ ì˜ ë¹„ë°€ì„ ì¹¨í•´ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ19ì¡° ëª¨ë“  êµ­ë¯¼ì€ ì–‘ì‹¬ì˜ ììœ ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ20ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ì¢…êµì˜ ììœ ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ20ì¡° â‘¡ êµ­êµëŠ” ì¸ì •ë˜ì§€ ì•„ë‹ˆí•˜ë©°, ì¢…êµì™€ ì •ì¹˜ëŠ” ë¶„ë¦¬ëœë‹¤.",
        "ì œ21ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ì–¸ë¡ Â·ì¶œíŒì˜ ììœ ì™€ ì§‘íšŒÂ·ê²°ì‚¬ì˜ ììœ ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ21ì¡° â‘¡ ì–¸ë¡ Â·ì¶œíŒì— ëŒ€í•œ í—ˆê°€ë‚˜ ê²€ì—´ê³¼ ì§‘íšŒÂ·ê²°ì‚¬ì— ëŒ€í•œ í—ˆê°€ëŠ” ì¸ì •ë˜ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ21ì¡° â‘¢ í†µì‹ Â·ë°©ì†¡ì˜ ì‹œì„¤ê¸°ì¤€ê³¼ ì‹ ë¬¸ì˜ ê¸°ëŠ¥ì„ ë³´ì¥í•˜ê¸° ìœ„í•˜ì—¬ í•„ìš”í•œ ì‚¬í•­ì€ ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ21ì¡° â‘£ ì–¸ë¡ Â·ì¶œíŒì€ íƒ€ì¸ì˜ ëª…ì˜ˆë‚˜ ê¶Œë¦¬ ë˜ëŠ” ê³µì¤‘ë„ë•ì´ë‚˜ ì‚¬íšŒìœ¤ë¦¬ë¥¼ ì¹¨í•´í•˜ì—¬ì„œëŠ” ì•„ë‹ˆëœë‹¤. ì–¸ë¡ Â·ì¶œíŒì´ íƒ€ì¸ì˜ ëª…ì˜ˆë‚˜ ê¶Œë¦¬ë¥¼ ì¹¨í•´í•œ ë•Œì—ëŠ” í”¼í•´ìëŠ” ì´ì— ëŒ€í•œ í”¼í•´ì˜ ë°°ìƒì„ ì²­êµ¬í•  ìˆ˜ ìˆë‹¤.",
        "ì œ22ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ í•™ë¬¸ê³¼ ì˜ˆìˆ ì˜ ììœ ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ22ì¡° â‘¡ ì €ì‘ìÂ·ë°œëª…ê°€Â·ê³¼í•™ê¸°ìˆ ìì™€ ì˜ˆìˆ ê°€ì˜ ê¶Œë¦¬ëŠ” ë²•ë¥ ë¡œì¨ ë³´í˜¸í•œë‹¤.",
        "ì œ23ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì˜ ì¬ì‚°ê¶Œì€ ë³´ì¥ëœë‹¤. ê·¸ ë‚´ìš©ê³¼ í•œê³„ëŠ” ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ23ì¡° â‘¡ ì¬ì‚°ê¶Œì˜ í–‰ì‚¬ëŠ” ê³µê³µë³µë¦¬ì— ì í•©í•˜ë„ë¡ í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ23ì¡° â‘¢ ê³µê³µí•„ìš”ì— ì˜í•œ ì¬ì‚°ê¶Œì˜ ìˆ˜ìš©Â·ì‚¬ìš© ë˜ëŠ” ì œí•œ ë° ê·¸ì— ëŒ€í•œ ë³´ìƒì€ ë²•ë¥ ë¡œì¨ í•˜ë˜, ì •ë‹¹í•œ ë³´ìƒì„ ì§€ê¸‰í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ24ì¡° ëª¨ë“  êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ì„ ê±°ê¶Œì„ ê°€ì§„ë‹¤.",
        "ì œ25ì¡° ëª¨ë“  êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ê³µë¬´ë‹´ì„ê¶Œì„ ê°€ì§„ë‹¤.",
        "ì œ26ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ê°€ê¸°ê´€ì— ë¬¸ì„œë¡œ ì²­ì›í•  ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ26ì¡° â‘¡ êµ­ê°€ëŠ” ì²­ì›ì— ëŒ€í•˜ì—¬ ì‹¬ì‚¬í•  ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ27ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ í—Œë²•ê³¼ ë²•ë¥ ì´ ì •í•œ ë²•ê´€ì— ì˜í•˜ì—¬ ë²•ë¥ ì— ì˜í•œ ì¬íŒì„ ë°›ì„ ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ27ì¡° â‘¡ êµ°ì¸ ë˜ëŠ” êµ°ë¬´ì›ì´ ì•„ë‹Œ êµ­ë¯¼ì€ ëŒ€í•œë¯¼êµ­ì˜ ì˜ì—­ì•ˆì—ì„œëŠ” ì¤‘ëŒ€í•œ êµ°ì‚¬ìƒ ê¸°ë°€Â·ì´ˆë³‘Â·ì´ˆì†ŒÂ·ìœ ë…ìŒì‹ë¬¼ê³µê¸‰Â·í¬ë¡œÂ·êµ°ìš©ë¬¼ì— ê´€í•œ ì£„ì¤‘ ë²•ë¥ ì´ ì •í•œ ê²½ìš°ì™€ ë¹„ìƒê³„ì—„ì´ ì„ í¬ëœ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ëŠ” êµ°ì‚¬ë²•ì›ì˜ ì¬íŒì„ ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ27ì¡° â‘¢ ëª¨ë“  êµ­ë¯¼ì€ ì‹ ì†í•œ ì¬íŒì„ ë°›ì„ ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤. í˜•ì‚¬í”¼ê³ ì¸ì€ ìƒë‹¹í•œ ì´ìœ ê°€ ì—†ëŠ” í•œ ì§€ì²´ì—†ì´ ê³µê°œì¬íŒì„ ë°›ì„ ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ27ì¡° â‘£ í˜•ì‚¬í”¼ê³ ì¸ì€ ìœ ì£„ì˜ íŒê²°ì´ í™•ì •ë  ë•Œê¹Œì§€ëŠ” ë¬´ì£„ë¡œ ì¶”ì •ëœë‹¤.",
        "ì œ27ì¡° â‘¤ í˜•ì‚¬í”¼í•´ìëŠ” ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ë‹¹í•´ ì‚¬ê±´ì˜ ì¬íŒì ˆì°¨ì—ì„œ ì§„ìˆ í•  ìˆ˜ ìˆë‹¤.",
        "ì œ28ì¡° í˜•ì‚¬í”¼ì˜ì ë˜ëŠ” í˜•ì‚¬í”¼ê³ ì¸ìœ¼ë¡œì„œ êµ¬ê¸ˆë˜ì—ˆë˜ ìê°€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë¶ˆê¸°ì†Œì²˜ë¶„ì„ ë°›ê±°ë‚˜ ë¬´ì£„íŒê²°ì„ ë°›ì€ ë•Œì—ëŠ” ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ê°€ì— ì •ë‹¹í•œ ë³´ìƒì„ ì²­êµ¬í•  ìˆ˜ ìˆë‹¤.",
        "ì œ29ì¡° â‘  ê³µë¬´ì›ì˜ ì§ë¬´ìƒ ë¶ˆë²•í–‰ìœ„ë¡œ ì†í•´ë¥¼ ë°›ì€ êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ê°€ ë˜ëŠ” ê³µê³µë‹¨ì²´ì— ì •ë‹¹í•œ ë°°ìƒì„ ì²­êµ¬í•  ìˆ˜ ìˆë‹¤.",
        "ì œ29ì¡° â‘¡ êµ°ì¸Â·êµ°ë¬´ì›Â·ê²½ì°°ê³µë¬´ì› ê¸°íƒ€ ë²•ë¥ ì´ ì •í•˜ëŠ” ìê°€ ì „íˆ¬Â·í›ˆë ¨ë“± ì§ë¬´ì§‘í–‰ê³¼ ê´€ë ¨í•˜ì—¬ ë°›ì€ ì†í•´ì— ëŒ€í•˜ì—¬ëŠ” ë²•ë¥ ì´ ì •í•˜ëŠ” ë³´ìƒì™¸ì— êµ­ê°€ ë˜ëŠ” ê³µê³µë‹¨ì²´ì— ê³µë¬´ì›ì˜ ì§ë¬´ìƒ ë¶ˆë²•í–‰ìœ„ë¡œ ì¸í•œ ë°°ìƒì€ ì²­êµ¬í•  ìˆ˜ ì—†ë‹¤.",
        "ì œ30ì¡° íƒ€ì¸ì˜ ë²”ì£„í–‰ìœ„ë¡œ ì¸í•˜ì—¬ ìƒëª…Â·ì‹ ì²´ì— ëŒ€í•œ í”¼í•´ë¥¼ ë°›ì€ êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ê°€ë¡œë¶€í„° êµ¬ì¡°ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.",
        "ì œ31ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ëŠ¥ë ¥ì— ë”°ë¼ ê· ë“±í•˜ê²Œ êµìœ¡ì„ ë°›ì„ ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ31ì¡° â‘¡ ëª¨ë“  êµ­ë¯¼ì€ ê·¸ ë³´í˜¸í•˜ëŠ” ìë…€ì—ê²Œ ì ì–´ë„ ì´ˆë“±êµìœ¡ê³¼ ë²•ë¥ ì´ ì •í•˜ëŠ” êµìœ¡ì„ ë°›ê²Œ í•  ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ31ì¡° â‘¢ ì˜ë¬´êµìœ¡ì€ ë¬´ìƒìœ¼ë¡œ í•œë‹¤.",
        "ì œ31ì¡° â‘£ êµìœ¡ì˜ ìì£¼ì„±Â·ì „ë¬¸ì„±Â·ì •ì¹˜ì  ì¤‘ë¦½ì„± ë° ëŒ€í•™ì˜ ììœ¨ì„±ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ë³´ì¥ëœë‹¤.",
        "ì œ31ì¡° â‘¤ êµ­ê°€ëŠ” í‰ìƒêµìœ¡ì„ ì§„í¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ31ì¡° â‘¥ í•™êµêµìœ¡ ë° í‰ìƒêµìœ¡ì„ í¬í•¨í•œ êµìœ¡ì œë„ì™€ ê·¸ ìš´ì˜, êµìœ¡ì¬ì • ë° êµì›ì˜ ì§€ìœ„ì— ê´€í•œ ê¸°ë³¸ì ì¸ ì‚¬í•­ì€ ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ32ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ê·¼ë¡œì˜ ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤. êµ­ê°€ëŠ” ì‚¬íšŒì Â·ê²½ì œì  ë°©ë²•ìœ¼ë¡œ ê·¼ë¡œìì˜ ê³ ìš©ì˜ ì¦ì§„ê³¼ ì ì •ì„ê¸ˆì˜ ë³´ì¥ì— ë…¸ë ¥í•˜ì—¬ì•¼ í•˜ë©°, ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ìµœì €ì„ê¸ˆì œë¥¼ ì‹œí–‰í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ32ì¡° â‘¡ ëª¨ë“  êµ­ë¯¼ì€ ê·¼ë¡œì˜ ì˜ë¬´ë¥¼ ì§„ë‹¤. êµ­ê°€ëŠ” ê·¼ë¡œì˜ ì˜ë¬´ì˜ ë‚´ìš©ê³¼ ì¡°ê±´ì„ ë¯¼ì£¼ì£¼ì˜ì›ì¹™ì— ë”°ë¼ ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ32ì¡° â‘¢ ê·¼ë¡œì¡°ê±´ì˜ ê¸°ì¤€ì€ ì¸ê°„ì˜ ì¡´ì—„ì„±ì„ ë³´ì¥í•˜ë„ë¡ ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ32ì¡° â‘£ ì—¬ìì˜ ê·¼ë¡œëŠ” íŠ¹ë³„í•œ ë³´í˜¸ë¥¼ ë°›ìœ¼ë©°, ê³ ìš©Â·ì„ê¸ˆ ë° ê·¼ë¡œì¡°ê±´ì— ìˆì–´ì„œ ë¶€ë‹¹í•œ ì°¨ë³„ì„ ë°›ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ32ì¡° â‘¤ ì—°ì†Œìì˜ ê·¼ë¡œëŠ” íŠ¹ë³„í•œ ë³´í˜¸ë¥¼ ë°›ëŠ”ë‹¤.",
        "ì œ32ì¡° â‘¥ êµ­ê°€ìœ ê³µìÂ·ìƒì´êµ°ê²½ ë° ì „ëª°êµ°ê²½ì˜ ìœ ê°€ì¡±ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ìš°ì„ ì ìœ¼ë¡œ ê·¼ë¡œì˜ ê¸°íšŒë¥¼ ë¶€ì—¬ë°›ëŠ”ë‹¤.",
        "ì œ33ì¡° â‘  ê·¼ë¡œìëŠ” ê·¼ë¡œì¡°ê±´ì˜ í–¥ìƒì„ ìœ„í•˜ì—¬ ìì£¼ì ì¸ ë‹¨ê²°ê¶ŒÂ·ë‹¨ì²´êµì„­ê¶Œ ë° ë‹¨ì²´í–‰ë™ê¶Œì„ ê°€ì§„ë‹¤.",
        "ì œ33ì¡° â‘¡ ê³µë¬´ì›ì¸ ê·¼ë¡œìëŠ” ë²•ë¥ ì´ ì •í•˜ëŠ” ìì— í•œí•˜ì—¬ ë‹¨ê²°ê¶ŒÂ·ë‹¨ì²´êµì„­ê¶Œ ë° ë‹¨ì²´í–‰ë™ê¶Œì„ ê°€ì§„ë‹¤.",
        "ì œ33ì¡° â‘¢ ë²•ë¥ ì´ ì •í•˜ëŠ” ì£¼ìš”ë°©ìœ„ì‚°ì—…ì²´ì— ì¢…ì‚¬í•˜ëŠ” ê·¼ë¡œìì˜ ë‹¨ì²´í–‰ë™ê¶Œì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ì´ë¥¼ ì œí•œí•˜ê±°ë‚˜ ì¸ì •í•˜ì§€ ì•„ë‹ˆí•  ìˆ˜ ìˆë‹¤.",
        "ì œ34ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ì¸ê°„ë‹¤ìš´ ìƒí™œì„ í•  ê¶Œë¦¬ë¥¼ ê°€ì§„ë‹¤.",
        "ì œ34ì¡° â‘¡ êµ­ê°€ëŠ” ì‚¬íšŒë³´ì¥Â·ì‚¬íšŒë³µì§€ì˜ ì¦ì§„ì— ë…¸ë ¥í•  ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ34ì¡° â‘¢ êµ­ê°€ëŠ” ì—¬ìì˜ ë³µì§€ì™€ ê¶Œìµì˜ í–¥ìƒì„ ìœ„í•˜ì—¬ ë…¸ë ¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ34ì¡° â‘£ êµ­ê°€ëŠ” ë…¸ì¸ê³¼ ì²­ì†Œë…„ì˜ ë³µì§€í–¥ìƒì„ ìœ„í•œ ì •ì±…ì„ ì‹¤ì‹œí•  ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ34ì¡° â‘¤ ì‹ ì²´ì¥ì• ì ë° ì§ˆë³‘Â·ë…¸ë ¹ ê¸°íƒ€ì˜ ì‚¬ìœ ë¡œ ìƒí™œëŠ¥ë ¥ì´ ì—†ëŠ” êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ê°€ì˜ ë³´í˜¸ë¥¼ ë°›ëŠ”ë‹¤.",
        "ì œ34ì¡° â‘¥ êµ­ê°€ëŠ” ì¬í•´ë¥¼ ì˜ˆë°©í•˜ê³  ê·¸ ìœ„í—˜ìœ¼ë¡œë¶€í„° êµ­ë¯¼ì„ ë³´í˜¸í•˜ê¸° ìœ„í•˜ì—¬ ë…¸ë ¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ35ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ê±´ê°•í•˜ê³  ì¾Œì í•œ í™˜ê²½ì—ì„œ ìƒí™œí•  ê¶Œë¦¬ë¥¼ ê°€ì§€ë©°, êµ­ê°€ì™€ êµ­ë¯¼ì€ í™˜ê²½ë³´ì „ì„ ìœ„í•˜ì—¬ ë…¸ë ¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ35ì¡° â‘¡ í™˜ê²½ê¶Œì˜ ë‚´ìš©ê³¼ í–‰ì‚¬ì— ê´€í•˜ì—¬ëŠ” ë²•ë¥ ë¡œ ì •í•œë‹¤.",
        "ì œ35ì¡° â‘¢ êµ­ê°€ëŠ” ì£¼íƒê°œë°œì •ì±…ë“±ì„ í†µí•˜ì—¬ ëª¨ë“  êµ­ë¯¼ì´ ì¾Œì í•œ ì£¼ê±°ìƒí™œì„ í•  ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ36ì¡° â‘  í˜¼ì¸ê³¼ ê°€ì¡±ìƒí™œì€ ê°œì¸ì˜ ì¡´ì—„ê³¼ ì–‘ì„±ì˜ í‰ë“±ì„ ê¸°ì´ˆë¡œ ì„±ë¦½ë˜ê³  ìœ ì§€ë˜ì–´ì•¼ í•˜ë©°, êµ­ê°€ëŠ” ì´ë¥¼ ë³´ì¥í•œë‹¤.",
        "ì œ36ì¡° â‘¡ êµ­ê°€ëŠ” ëª¨ì„±ì˜ ë³´í˜¸ë¥¼ ìœ„í•˜ì—¬ ë…¸ë ¥í•˜ì—¬ì•¼ í•œë‹¤.",
        "ì œ36ì¡° â‘¢ ëª¨ë“  êµ­ë¯¼ì€ ë³´ê±´ì— ê´€í•˜ì—¬ êµ­ê°€ì˜ ë³´í˜¸ë¥¼ ë°›ëŠ”ë‹¤.",
        "ì œ37ì¡° â‘  êµ­ë¯¼ì˜ ììœ ì™€ ê¶Œë¦¬ëŠ” í—Œë²•ì— ì—´ê±°ë˜ì§€ ì•„ë‹ˆí•œ ì´ìœ ë¡œ ê²½ì‹œë˜ì§€ ì•„ë‹ˆí•œë‹¤.",
        "ì œ37ì¡° â‘¡ êµ­ë¯¼ì˜ ëª¨ë“  ììœ ì™€ ê¶Œë¦¬ëŠ” êµ­ê°€ì•ˆì „ë³´ì¥Â·ì§ˆì„œìœ ì§€ ë˜ëŠ” ê³µê³µë³µë¦¬ë¥¼ ìœ„í•˜ì—¬ í•„ìš”í•œ ê²½ìš°ì— í•œí•˜ì—¬ ë²•ë¥ ë¡œì¨ ì œí•œí•  ìˆ˜ ìˆìœ¼ë©°, ì œí•œí•˜ëŠ” ê²½ìš°ì—ë„ ììœ ì™€ ê¶Œë¦¬ì˜ ë³¸ì§ˆì ì¸ ë‚´ìš©ì„ ì¹¨í•´í•  ìˆ˜ ì—†ë‹¤.",
        "ì œ38ì¡° ëª¨ë“  êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ ë‚©ì„¸ì˜ ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ39ì¡° â‘  ëª¨ë“  êµ­ë¯¼ì€ ë²•ë¥ ì´ ì •í•˜ëŠ” ë°”ì— ì˜í•˜ì—¬ êµ­ë°©ì˜ ì˜ë¬´ë¥¼ ì§„ë‹¤.",
        "ì œ39ì¡° â‘¡ ëˆ„êµ¬ë“ ì§€ ë³‘ì—­ì˜ë¬´ì˜ ì´í–‰ìœ¼ë¡œ ì¸í•˜ì—¬ ë¶ˆë¦¬í•œ ì²˜ìš°ë¥¼ ë°›ì§€ ì•„ë‹ˆí•œë‹¤."
    ];

    const engSentences = ["All human beings are born free and equal in dignity and rights."];
    let sentences = korSentences;
    let index = Math.floor(Math.random() * sentences.length);
    let text = sentences[index];
    let input = "";
    let wpmHistory = [];
    let cnt = 0;
    let startTime = null;
    let enterMode = false;
    let highlightYellow = false;

    const renderText = () => {
        const result = [...text].map((char, i) => {
            let style = "";
            if (i < input.length) {
                style = char === input[i] ? "text-black dark:text-white" : "text-red-500";
            } else if (i === input.length) {
                style = highlightYellow ? "highlight-bg" : "highlight-underline";
            }
            return `<span class="${style}">${char}</span>`;
        });
        $("text-display").innerHTML = result.join("");
    };

    const nextSentence = (wpm) => {
        wpmHistory.push(wpm);
        $("highest").textContent = Math.max(...wpmHistory);
        $("average").textContent = Math.round(wpmHistory.reduce((a,b)=>a+b,0)/wpmHistory.length);
        index = Math.floor(Math.random() * sentences.length);
        text = sentences[index];
        input = "";
        $("typing-input").value = "";
        cnt = 0;
        startTime = null;
        renderText();
    };

    const updateAccuracy = () => {
        let correct = 0;
        for (let i = 0; i < input.length && i < text.length; i++) {
            if (input[i] === text[i]) correct++;
        }
        const acc = input.length > 0 ? Math.round((correct / input.length) * 100) : 100;
        $("accuracy").textContent = acc + "%";
    };

    $("typing-input").addEventListener("input", (e) => {
        let val = e.target.value;
        input = val;
        e.target.value = val;
        cnt++;
        $("cnt").textContent = cnt;
        if (!startTime) startTime = Date.now();
        renderText();
        const elapsedMin = (Date.now() - startTime) / 1000 / 60;
        const wpm = Math.round(input.trim().split(/\s+/).length / elapsedMin);
        $("wpm").textContent = wpm;
        updateAccuracy();
        if (input.length === text.length && !enterMode) nextSentence(wpm);
    });

    document.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && enterMode && input.length === text.length) {
            const elapsedMin = (Date.now() - startTime) / 1000 / 60;
            const wpm = Math.round(input.trim().split(/\s+/).length / elapsedMin);
            $("wpm").textContent = wpm;
            updateAccuracy();
            nextSentence(wpm);
        }
    });

    $("toggle-lang").addEventListener("click", () => {
        sentences = sentences === korSentences ? engSentences : korSentences;
        $("toggle-lang").textContent = sentences === korSentences ? "EN" : "KO";
        index = Math.floor(Math.random() * sentences.length);
        text = sentences[index];
        input = "";
        $("typing-input").value = "";
        renderText();
    });

    $("enter-mode-btn").addEventListener("click", () => {
        enterMode = !enterMode;
        $("enter-mode-btn").classList.toggle("bg-blue-400", enterMode);
        $("enter-mode-btn").classList.toggle("bg-gray-300", !enterMode);
    });

    $("highlight-toggle-btn").addEventListener("click", () => {
        highlightYellow = !highlightYellow;
        $("highlight-toggle-btn").classList.toggle("bg-yellow-300", highlightYellow);
        $("highlight-toggle-btn").classList.toggle("bg-gray-300", !highlightYellow);
        $("highlight-toggle-btn").innerHTML = highlightYellow ? "ê°•ì¡°" : "<u>ê°•ì¡°</u>";
        renderText();
    });

    $("font-select").addEventListener("change", (e) => {
        const font = `'${e.target.value}', sans-serif`;
        $("text-display").style.fontFamily = font;
        $("typing-input").style.fontFamily = font;
    });

    $("refresh-btn").addEventListener("click", () => {
        const elapsedMin = startTime ? (Date.now() - startTime) / 1000 / 60 : 0.01;
        const wpm = Math.round(input.trim().split(/\s+/).length / elapsedMin);
        nextSentence(wpm);
    });

    renderText();
</script>
</body>
</html>
